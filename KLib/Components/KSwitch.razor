<div @attributes="InputAttributes" class="form-check @(IsSwitch?"form-switch":"") form-switch-md">
    @if (!string.IsNullOrWhiteSpace(Placeholder))
    {
        <label style="@(IsSwitch?"margin-left:10px;":string.Empty)" class="form-check-label" for="@SwitchId">@Placeholder</label>
    }
    <input class="form-check-input" type="checkbox" role="@(IsSwitch ? "switch" : null)" id="@SwitchId" disabled="@Disabled" @onchange="@OnChange" @onclick:stopPropagation="true" checked="@Checked">
</div>

@code {
    [Parameter] public string? Placeholder { get; set; }
    [Parameter] public bool Disabled { get; set; }
    [Parameter] public bool Checked { get; set; }
    [Parameter] public EventCallback<bool> CheckedChanged { get; set; }
    [Parameter] public bool IsSwitch { get; set; }

    [Parameter(CaptureUnmatchedValues = true)]
    public Dictionary<string, object>? InputAttributes { get; set; }

    private string SwitchId = Guid.NewGuid().ToString();

    private async Task OnChange(ChangeEventArgs e)
    {
        this.Checked = (bool)e.Value!;
        await CheckedChanged.InvokeAsync(Checked);
    }

}